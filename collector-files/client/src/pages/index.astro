---
import Header from '../components/Header.astro';
import Layout from '../layouts/Layout.astro';
import Original from '../components/Original.astro';
import fetchApi from '../lib/strapi';

import TamagotchisCard from '../components/tamagotchisCard.astro';

const tamagotchis = await fetchApi(
  {
    endpoint: 'tamagotchis?populate=*',
    wrappedByKey: 'data',
  },
  {}
);

console.log(tamagotchis);
---

<Layout>
  <Original />
  <div class="card-container">
    {tamagotchis.map((i) => <TamagotchisCard name={i.title} image={i.image.url} />)}
  </div>
</Layout>

<style>
  .card-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
  }
</style>
